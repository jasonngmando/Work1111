<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Monday Review Study</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="ambient" aria-hidden="true">
    <span class="orb orb-one"></span>
    <span class="orb orb-two"></span>
    <span class="orb orb-three"></span>
  </div>
  <div class="container">
    <header>
      <div class="brand">
        <h1>Monday Review Study</h1>
        <p>Flashcards + quiz + searchable notes (progress saved locally in your browser).</p>
      </div>
      <div class="header-actions">
                <div class="badge">
          <span class="pill" id="duePill">Due: —</span>
          <strong id="streak">0</strong>
          <span class="muted small">cards reviewed today</span>
        </div>
      </div>
    </header>

    <nav class="nav" role="tablist" aria-label="Study tabs">
      <button class="tabbtn" role="tab" aria-selected="true" data-tab="study">Study</button>
      <button class="tabbtn" role="tab" aria-selected="false" data-tab="quiz">Quiz</button>
      <button class="tabbtn" role="tab" aria-selected="false" data-tab="browse">Browse</button>
      <button class="tabbtn" role="tab" aria-selected="false" data-tab="progress">Progress</button>
    </nav>

    <section id="tab-study" class="grid">
      <div class="panel">
        <div class="row" style="justify-content:space-between">
          <h2>Flashcards</h2>
          <span class="pill" id="catPill">All categories</span>
        </div>

        <div class="row">
          <div style="flex:1">
            <label for="categorySelect">Category filter</label>
            <select id="categorySelect"></select>
          </div>
          <div style="flex:1">
            <label for="modeSelect">Card mode</label>
            <select id="modeSelect">
              <option value="review">Review (due first)</option>
              <option value="random">Random</option>
              <option value="new">New only</option>
            </select>
          </div>
        </div>

        <div class="spacer"></div>

        <div class="cardbox" id="cardBox">
          <div class="q" id="qText">—</div>
          <div class="a" id="aText" style="display:none">—</div>
        </div>

        <div class="spacer"></div>

        <div class="row">
          <button class="btn primary" id="flipBtn">Flip</button>
          <button class="btn" id="nextBtn">Next</button>
          <span class="muted small" id="cardMeta" style="margin-left:auto">—</span>
        </div>

        <hr />

        <div class="row" style="justify-content:space-between">
          <div class="muted small">After you flip, rate how well you remembered it:</div>
          <div class="row">
            <button class="btn again" id="gradeAgain" disabled>Again</button>
            <button class="btn hard" id="gradeHard" disabled>Hard</button>
            <button class="btn good" id="gradeGood" disabled>Good</button>
            <button class="btn easy" id="gradeEasy" disabled>Easy</button>
          </div>
        </div>
      </div>

      <div class="panel">
        <h2>Quick tips</h2>
        <p class="muted">Use this like a mini spaced-repetition app.</p>
        <div class="focus-card">
          <div class="focus-title">Focus mode</div>
          <p class="muted small">Take a short pause every 10 cards to improve retention and avoid fatigue.</p>
        </div>
        <hr />
        <h2>What’s inside</h2>
        <p class="muted" id="contentSummary">—</p>
        <hr />
        <h2>Reset</h2>
        <p class="muted small">If something breaks or you want a fresh start:</p>
        <button class="btn" id="resetBtn">Reset all progress</button>
      </div>
    </section>

    <section id="tab-quiz" class="grid" style="display:none">
      <div class="panel">
        <div class="row" style="justify-content:space-between">
          <h2>Quiz</h2>
          <span class="pill" id="quizPill">Ready</span>
        </div>

        <div class="row">
          <div style="flex:1">
            <label for="quizCategory">Category</label>
            <select id="quizCategory"></select>
          </div>
          <div style="flex:1">
            <label for="quizMode">Mode</label>
            <select id="quizMode">
              <option value="mc">Multiple choice</option>
              <option value="type">Type answer</option>
            </select>
          </div>
          <div style="flex:1">
            <label for="quizLen">Questions</label>
            <select id="quizLen"></select>
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <div style="flex:1">
            <label for="quizQuestionMix">Question mix</label>
            <select id="quizQuestionMix">
              <option value="all">All questions</option>
              <option value="focus">Focus on unfamiliar / missed first try</option>
            </select>
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <label class="muted small" style="display:flex; align-items:center; gap:8px; cursor:pointer">
            <input type="checkbox" id="quizRetryUntilCorrect" />
            Retry wrong answers until correct
          </label>
        </div>

        <div class="spacer"></div>

        <div class="cardbox">
          <div class="q" id="quizQ">Choose settings and press Start.</div>

          <div id="mcArea" style="display:none; margin-top:12px">
            <div class="row" style="flex-direction:column; align-items:stretch" id="mcChoices"></div>
          </div>

          <div id="typeArea" style="display:none; margin-top:12px">
            <label for="typeInput">Your answer</label>
            <div id="typeInputs"></div>
            <div class="spacer"></div>
            <button class="btn primary" id="checkType">Check</button>
          </div>

          <div class="a" id="quizFeedback" style="display:none"></div>
        </div>

        <div class="spacer"></div>

        <div class="row">
          <button class="btn primary" id="quizStart">Start</button>
          <button class="btn" id="quizNext" disabled>Next</button>
          <button class="btn" id="quizSkip" disabled>Skip</button>
          <span class="muted small" id="quizMeta" style="margin-left:auto">—</span>
        </div>
      </div>

      <div class="panel">
        <h2>Scoring</h2>
        <div class="statgrid">
          <div class="stat"><div class="muted small">Correct</div><div class="n" id="qCorrect">0</div></div>
          <div class="stat"><div class="muted small">Attempted</div><div class="n" id="qAttempted">0</div></div>
          <div class="stat"><div class="muted small">Skipped</div><div class="n" id="qSkipped">0</div></div>
          <div class="stat"><div class="muted small">Accuracy</div><div class="n" id="qAcc">0%</div></div>
        </div>
      </div>
    </section>

    <section id="tab-browse" class="grid" style="display:none">
      <div class="panel">
        <h2>Search + filter</h2>
        <label for="searchInput">Search</label>
        <input id="searchInput" placeholder="Try: CAP, SMART, holidays, discrimination..." />
        <div class="row">
          <div style="flex:1">
            <label for="browseCategory">Category</label>
            <select id="browseCategory"></select>
          </div>
          <div style="flex:1">
            <label for="browseSort">Sort</label>
            <select id="browseSort">
              <option value="category">By category</option>
              <option value="alpha">A → Z</option>
            </select>
          </div>
        </div>
        <div class="spacer"></div>
        <div class="list" id="browseList"></div>
      </div>

      <div class="panel">
        <h2>Printable cheat sheet</h2>
        <div id="cheatSheet" class="muted small"></div>
      </div>
    </section>

    <section id="tab-progress" class="grid" style="display:none">
      <div class="panel">
        <h2>Your progress</h2>
        <div class="statgrid">
          <div class="stat"><div class="muted small">Cards total</div><div class="n" id="pTotal">—</div></div>
          <div class="stat"><div class="muted small">Due now</div><div class="n" id="pDue">—</div></div>
          <div class="stat"><div class="muted small">Mastered (interval ≥ 30d)</div><div class="n" id="pMastered">—</div></div>
        </div>
        <hr />
        <div class="row">
          <button class="btn" id="exportBtn">Export progress (JSON)</button>
          <button class="btn" id="importBtn">Import progress</button>
          <input type="file" id="importFile" accept="application/json" style="display:none" />
        </div>
      </div>

      <div class="panel">
        <h2>Keyboard</h2>
        <p class="muted small">Space = flip • N = next</p>
      </div>
    </section>

    <div class="toast" id="toast">Saved</div>
  </div>

  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
